{% extends 'game_builds/base.html' %}

{% block title %}–°–ª—É—á–∞–π–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å - Forza Horizon 5{% endblock %}

{% block content %}
<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
<div class="container">
    <h1 class="title">–°–ª—É—á–∞–π–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å</h1>

    <!-- –§–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ -->
    <form method="get" action="{% url 'game_builds:generate_random_build' game.slug %}" class="form-container">
        <label for="class" class="form-label">–ö–ª–∞—Å—Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è:</label>
        <select name="class" id="class" class="form-select">
            <option value="">–í—Å–µ –∫–ª–∞—Å—Å—ã</option>
            <option value="D">D (0-500)</option>
            <option value="C">C (501-600)</option>
            <option value="B">B (601-700)</option>
            <option value="A">A (701-800)</option>
            <option value="S1">S1 (801-900)</option>
            <option value="S2">S2 (901-999)</option>
            <option value="X">X (999)</option>
        </select>
        <button type="submit" class="btn-custom">
            <span class="btn-text">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
            <span class="btn-icon">üèéÔ∏è</span>
            <span class="btn-speed"></span>
        </button>
    </form>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è -->
    <div class="card-custom">
        {% if build.car_image %}
        <img src="{{ build.car_image }}" alt="{{ build.car_name }}" class="car-image">
        {% else %}
        <div class="no-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>
        {% endif %}
        <div class="card-overlay"></div>
        <div class="card-content">
            <h2 class="car-title">{{ build.car_name|default:"–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ" }}</h2>
            <div class="car-class">
                –ö–ª–∞—Å—Å: 
                <span class="badge {{ build.car_class|lower }}">{{ build.car_class|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_styles %}
<style>
    /* –û–±—â–∏–π —Å—Ç–∏–ª—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    body {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        color: #ffffff;
        font-family: 'Russo One', -apple-system, BlinkMacSystemFont, sans-serif;
        min-height: 100vh;
        margin: 0;
        overflow-x: hidden;
        position: relative;
    }

    /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
        opacity: 0.15;
        filter: blur(8px);
        z-index: -1;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .container {
        max-width: 1000px;
        margin: 60px auto;
        padding: 0 20px;
        position: relative;
        z-index: 1;
    }

    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
    .title {
        font-size: 3.5rem;
        font-weight: 700;
        text-align: center;
        color: #ffffff;
        margin-bottom: 50px;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 0 0 15px rgba(255, 78, 80, 0.7), 0 0 30px rgba(255, 147, 41, 0.5);
        animation: neonPulse 2s infinite alternate;
    }

    /* –§–æ—Ä–º–∞ */
    .form-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        align-items: center;
        justify-content: center;
        margin-bottom: 60px;
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(5px);
    }

    .form-label {
        font-size: 1.3rem;
        font-weight: 400;
        color: #ffffff;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    }

    .form-select {
        background: rgba(255, 255, 255, 0.1);
        color: #ffffff;
        border: 2px solid #ff4e50;
        border-radius: 10px;
        padding: 12px 20px;
        font-size: 1.1rem;
        min-width: 250px;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        appearance: none;
        background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
        background-repeat: no-repeat;
        background-position: right 10px center;
    }

    .form-select:focus {
        outline: none;
        border-color: #ff9731;
        box-shadow: 0 0 15px rgba(255, 151, 49, 0.5);
    }

    /* –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ */
    .btn-custom {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: transparent;
        color: #ffffff;
        border: 2px solid transparent;
        padding: 12px 30px;
        border-radius: 50px;
        font-size: 1.2rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        overflow: hidden;
        transition: all 0.3s ease;
        z-index: 1;
    }

    .btn-custom::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, #ff4e50, #ff9731);
        z-index: -1;
        transition: transform 0.5s ease;
        transform: scaleX(0);
        transform-origin: left;
    }

    .btn-custom:hover::before {
        transform: scaleX(1);
    }

    .btn-custom:hover {
        box-shadow: 0 0 20px rgba(255, 78, 80, 0.7), 0 0 40px rgba(255, 147, 41, 0.5);
        border-color: #ffffff;
        color: #ffffff;
    }

    .btn-text {
        position: relative;
        z-index: 1;
    }

    .btn-icon {
        font-size: 1.5rem;
        transition: transform 0.3s ease;
    }

    .btn-custom:hover .btn-icon {
        transform: translateX(5px);
    }

    .btn-speed {
        position: absolute;
        top: 50%;
        left: -20px;
        width: 40px;
        height: 2px;
        background: rgba(255, 255, 255, 0.5);
        transform: translateY(-50%);
        opacity: 0;
        transition: all 0.3s ease;
    }

    .btn-custom:hover .btn-speed {
        left: 100%;
        opacity: 1;
        background: #ffffff;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è */
    .card-custom {
        position: relative;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card-custom:hover {
        transform: scale(1.02);
        box-shadow: 0 12px 40px rgba(255, 78, 80, 0.3);
    }

    .car-image {
        width: 100%;
        height: 450px;
        object-fit: cover;
        display: block;
        filter: brightness(0.9);
    }

    .card-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.8));
        pointer-events: none;
    }

    .no-image {
        background: rgba(255, 255, 255, 0.05);
        color: #ff4e50;
        text-align: center;
        padding: 120px 20px;
        font-size: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .card-content {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 30px;
        text-align: center;
    }

    .car-title {
        font-size: 2.2rem;
        font-weight: 700;
        color: #ffffff;
        margin: 0 0 15px;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-shadow: 0 0 10px rgba(255, 78, 80, 0.7);
    }

    .car-class {
        font-size: 1.3rem;
        color: #ffffff;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    /* –ë–µ–π–¥–∂–∏ –∫–ª–∞—Å—Å–æ–≤ */
    .badge {
        display: inline-block;
        padding: 8px 20px;
        border-radius: 25px;
        font-size: 1.1rem;
        font-weight: 600;
        color: #ffffff;
        margin-left: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        transition: transform 0.3s ease;
    }

    .badge:hover {
        transform: scale(1.1);
    }

    .badge.d { background: linear-gradient(45deg, #4b5563, #6b7280); }
    .badge.c { background: linear-gradient(45deg, #0284c7, #38bdf8); }
    .badge.b { background: linear-gradient(45deg, #16a34a, #22c55e); }
    .badge.a { background: linear-gradient(45deg, #d97706, #f59e0b); }
    .badge.s1 { background: linear-gradient(45deg, #dc2626, #ef4444); }
    .badge.s2 { background: linear-gradient(45deg, #7c3aed, #a855f7); }
    .badge.x { background: linear-gradient(45deg, #facc15, #fde047); color: #000; }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes neonPulse {
        0% { text-shadow: 0 0 10px rgba(255, 78, 80, 0.7), 0 0 20px rgba(255, 147, 41, 0.5); }
        100% { text-shadow: 0 0 20px rgba(255, 78, 80, 1), 0 0 40px rgba(255, 147, 41, 0.8); }
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
        .title { font-size: 2.5rem; }
        .car-image { height: 300px; }
        .form-container { flex-direction: column; align-items: stretch; padding: 15px; }
        .form-select { min-width: 100%; }
        .car-title { font-size: 1.8rem; }
        .car-class { font-size: 1.1rem; }
        .card-content { padding: 20px; }
        .btn-custom { padding: 10px 20px; font-size: 1rem; }
    }

    @media (max-width: 480px) {
        .title { font-size: 2rem; }
        .btn-custom { width: 100%; padding: 10px 20px; font-size: 1rem; }
        .car-image { height: 200px; }
        .car-title { font-size: 1.5rem; }
        .no-image { font-size: 1.2rem; padding: 80px 20px; }
    }
</style>
{% endblock %}